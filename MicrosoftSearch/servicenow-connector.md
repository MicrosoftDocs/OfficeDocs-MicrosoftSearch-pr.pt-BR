---
title: Conector do ServiceNow para pesquisa da Microsoft
ms.author: kam1
author: TheKarthikeyan
manager: harshkum
ms.audience: Admin
ms.topic: article
ms.service: mssearch
localization_priority: Normal
search.appverid:
- BFB160
- MET150
- MOE150
description: Configurar o conector do ServiceNow para pesquisa da Microsoft
ms.openlocfilehash: 520232f8055d5432ccb96a840a9466ae6a4e3b1a
ms.sourcegitcommit: ac4e261c01262be747341f810d2d1faf220d3961
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 11/23/2020
ms.locfileid: "49382556"
---
# <a name="servicenow-connector"></a><span data-ttu-id="bcc45-103">Conector do ServiceNow</span><span class="sxs-lookup"><span data-stu-id="bcc45-103">ServiceNow connector</span></span>

<span data-ttu-id="bcc45-104">Com o conector do ServiceNow, sua organização pode indexar artigos de base de conhecimento que são visíveis para todos os usuários ou restritos com permissões de critérios de usuário dentro da sua organização.</span><span class="sxs-lookup"><span data-stu-id="bcc45-104">With the ServiceNow connector, your organization can index knowledge-base articles that are visible to all users or restricted with user criteria permissions within your organization.</span></span> <span data-ttu-id="bcc45-105">Depois de configurar o conector e o conteúdo do índice do ServiceNow, os usuários finais podem pesquisar esses artigos de qualquer cliente de pesquisa da Microsoft.</span><span class="sxs-lookup"><span data-stu-id="bcc45-105">After you configure the connector and index content from ServiceNow, end users can search for those articles from any Microsoft Search client.</span></span>  

<span data-ttu-id="bcc45-106">Este artigo é para os administradores do Microsoft 365 ou qualquer pessoa que configure, execute e monitore um conector do ServiceNow.</span><span class="sxs-lookup"><span data-stu-id="bcc45-106">This article is for Microsoft 365 administrators or anyone who configures, runs, and monitors a ServiceNow connector.</span></span> <span data-ttu-id="bcc45-107">Ele explica como configurar seus recursos de conector e conector, limitações e técnicas de solução de problemas.</span><span class="sxs-lookup"><span data-stu-id="bcc45-107">It explains how to configure your connector and connector capabilities, limitations, and troubleshooting techniques.</span></span>

<span data-ttu-id="bcc45-108">Saiba como acessar os conectores internos da Microsoft [para configurar seu conector criado pela Microsoft para o Microsoft Search](https://docs.microsoft.com/microsoftsearch/configure-connector).</span><span class="sxs-lookup"><span data-stu-id="bcc45-108">Learn how to access Microsoft built connectors from [Set up your Microsoft-built connector for Microsoft Search](https://docs.microsoft.com/microsoftsearch/configure-connector).</span></span> <span data-ttu-id="bcc45-109">A configuração específica do conector do ServiceNow é explicada no artigo abaixo.</span><span class="sxs-lookup"><span data-stu-id="bcc45-109">ServiceNow connector specific configuration is explained in the article below.</span></span>

## <a name="connection-settings"></a><span data-ttu-id="bcc45-110">Configurações de conexão</span><span class="sxs-lookup"><span data-stu-id="bcc45-110">Connection Settings</span></span>
<span data-ttu-id="bcc45-111">Para se conectar aos seus dados do ServiceNow, você precisa da **URL de instância do servicenow** da sua organização, as credenciais dessa conta e a ID do cliente e o segredo do cliente para autenticação OAuth.</span><span class="sxs-lookup"><span data-stu-id="bcc45-111">To connect to your ServiceNow data, you need your organization's **ServiceNow instance URL**, credentials for this account, and the Client ID and Client Secret for OAuth authentication.</span></span>  

<span data-ttu-id="bcc45-112">A URL da **instância do ServiceNow** da sua organização normalmente parece **https:// &lt; seu-Organization-Domain>. Service-Now.com**.</span><span class="sxs-lookup"><span data-stu-id="bcc45-112">Your organization’s **ServiceNow instance URL** typically looks like **https://&lt;your-organization-domain>.service-now.com**.</span></span> <span data-ttu-id="bcc45-113">Juntamente com esta URL, você precisará de uma conta para configurar a conexão com o ServiceNow, bem como para permitir que a pesquisa da Microsoft atualize periodicamente os artigos do ServiceNow com base no agendamento de atualização.</span><span class="sxs-lookup"><span data-stu-id="bcc45-113">Along with this URL, you will need an account for setting up the connection to ServiceNow as well as for allowing Microsoft Search to periodically update the articles from ServiceNow based on the refresh schedule.</span></span> <span data-ttu-id="bcc45-114">A conta deve ter, pelo menos, a função de <em>conhecimento</em> .</span><span class="sxs-lookup"><span data-stu-id="bcc45-114">The account should at least have <em>knowledge</em> role.</span></span> <span data-ttu-id="bcc45-115">[Saiba como atribuir função para contas do ServiceNow](https://docs.servicenow.com/bundle/paris-platform-administration/page/administer/users-and-groups/task/t_AssignARoleToAUser.html).</span><span class="sxs-lookup"><span data-stu-id="bcc45-115">[Learn how to assign role for ServiceNow accounts](https://docs.servicenow.com/bundle/paris-platform-administration/page/administer/users-and-groups/task/t_AssignARoleToAUser.html).</span></span>

>[!NOTE]
><span data-ttu-id="bcc45-116">Se você deseja rastrear as identidades de usuário e de grupo para honrar as permissões de acesso dos artigos de conhecimento nos resultados da pesquisa da Microsoft, a conta deve ter acesso para ler os seguintes registros de tabela no ServiceNow:</span><span class="sxs-lookup"><span data-stu-id="bcc45-116">If you want to crawl user and group identities to honor access permissions of knowledge articles in Microsoft Search results, the account should have access to read the following table records in ServiceNow:</span></span>
>* <span data-ttu-id="bcc45-117">kb_uc_can_contribute_mtom</span><span class="sxs-lookup"><span data-stu-id="bcc45-117">kb_uc_can_contribute_mtom</span></span>
>* <span data-ttu-id="bcc45-118">kb_uc_can_read_mtom</span><span class="sxs-lookup"><span data-stu-id="bcc45-118">kb_uc_can_read_mtom</span></span>
>* <span data-ttu-id="bcc45-119">kb_uc_cannot_read_mtom</span><span class="sxs-lookup"><span data-stu-id="bcc45-119">kb_uc_cannot_read_mtom</span></span>
>* <span data-ttu-id="bcc45-120">kb_uc_cannot_contribute_mtom</span><span class="sxs-lookup"><span data-stu-id="bcc45-120">kb_uc_cannot_contribute_mtom</span></span>
>* <span data-ttu-id="bcc45-121">sys_user</span><span class="sxs-lookup"><span data-stu-id="bcc45-121">sys_user</span></span>
>* <span data-ttu-id="bcc45-122">sys_user_has_role</span><span class="sxs-lookup"><span data-stu-id="bcc45-122">sys_user_has_role</span></span>
>* <span data-ttu-id="bcc45-123">sys_user_grmember</span><span class="sxs-lookup"><span data-stu-id="bcc45-123">sys_user_grmember</span></span>
>* <span data-ttu-id="bcc45-124">user_criteria</span><span class="sxs-lookup"><span data-stu-id="bcc45-124">user_criteria</span></span>
>* <span data-ttu-id="bcc45-125">kb_knowledge_base</span><span class="sxs-lookup"><span data-stu-id="bcc45-125">kb_knowledge_base</span></span>  
> <span data-ttu-id="bcc45-126">Você pode criar e atribuir uma função para a conta que você usa para se conectar ao Microsoft Search.</span><span class="sxs-lookup"><span data-stu-id="bcc45-126">You can create and assign a role for the account you use to connect with Microsoft Search.</span></span> <span data-ttu-id="bcc45-127">O acesso de leitura às tabelas pode ser atribuído a essa função.</span><span class="sxs-lookup"><span data-stu-id="bcc45-127">Read access to the tables can be assigned on that role.</span></span> <span data-ttu-id="bcc45-128">Para saber mais sobre como definir o acesso de leitura aos registros de tabela, consulte [Securing Table Records](https://developer.servicenow.com/dev.do#!/learn/learning-plans/orlando/new_to_servicenow/app_store_learnv2_securingapps_orlando_creating_and_editing_access_controls).</span><span class="sxs-lookup"><span data-stu-id="bcc45-128">To learn about setting read access to table records, see [Securing Table Records](https://developer.servicenow.com/dev.do#!/learn/learning-plans/orlando/new_to_servicenow/app_store_learnv2_securingapps_orlando_creating_and_editing_access_controls).</span></span>

<span data-ttu-id="bcc45-129">Para autenticar e sincronizar o conteúdo do ServiceNow, escolha **um dos três** métodos com suporte:</span><span class="sxs-lookup"><span data-stu-id="bcc45-129">To authenticate and sync content from ServiceNow, choose **one of three** supported methods:</span></span> 
1. <span data-ttu-id="bcc45-130">Autenticação básica</span><span class="sxs-lookup"><span data-stu-id="bcc45-130">Basic authentication</span></span> 
2. <span data-ttu-id="bcc45-131">OAuth do ServiceNow (recomendado)</span><span class="sxs-lookup"><span data-stu-id="bcc45-131">ServiceNow OAuth (recommended)</span></span>
3. <span data-ttu-id="bcc45-132">Conexão OpenID do Azure AD</span><span class="sxs-lookup"><span data-stu-id="bcc45-132">Azure AD OpenID Connect</span></span>

#### <a name="basic-authentication"></a><span data-ttu-id="bcc45-133">Autenticação básica</span><span class="sxs-lookup"><span data-stu-id="bcc45-133">Basic authentication</span></span>

<span data-ttu-id="bcc45-134">Insira o nome de usuário e a senha da conta do ServiceNow com a função de **conhecimento** para autenticar sua instância.</span><span class="sxs-lookup"><span data-stu-id="bcc45-134">Enter the username and password of ServiceNow account with **knowledge** role to authenticate to your instance.</span></span>

#### <a name="servicenow-oauth"></a><span data-ttu-id="bcc45-135">OAuth do ServiceNow</span><span class="sxs-lookup"><span data-stu-id="bcc45-135">ServiceNow OAuth</span></span>

<span data-ttu-id="bcc45-136">Para usar o ServiceNow OAuth para autenticação, um administrador do ServiceNow precisa provisionar um ponto de extremidade na sua instância do ServiceNow, para que o aplicativo de pesquisa da Microsoft possa acessar a instância.</span><span class="sxs-lookup"><span data-stu-id="bcc45-136">To use ServiceNow OAuth for authentication, a ServiceNow admin needs to provision an endpoint in your ServiceNow instance, so that the Microsoft Search app can access the instance.</span></span> <span data-ttu-id="bcc45-137">Para saber mais, confira [criar um ponto de extremidade para os clientes acessar a instância](https://docs.servicenow.com/bundle/newyork-platform-administration/page/administer/security/task/t_CreateEndpointforExternalClients.html) na documentação do ServiceNow.</span><span class="sxs-lookup"><span data-stu-id="bcc45-137">To learn more, see [Create an endpoint for clients to access the instance](https://docs.servicenow.com/bundle/newyork-platform-administration/page/administer/security/task/t_CreateEndpointforExternalClients.html) in the ServiceNow documentation.</span></span>

<span data-ttu-id="bcc45-138">A tabela a seguir fornece orientação sobre como preencher o formulário de criação de ponto de extremidade:</span><span class="sxs-lookup"><span data-stu-id="bcc45-138">The following table provides guidance on how to fill out the endpoint creation form:</span></span>

<span data-ttu-id="bcc45-139">**Field**</span><span class="sxs-lookup"><span data-stu-id="bcc45-139">**Field**</span></span> | <span data-ttu-id="bcc45-140">**Descrição**</span><span class="sxs-lookup"><span data-stu-id="bcc45-140">**Description**</span></span> | <span data-ttu-id="bcc45-141">**Valor recomendado**</span><span class="sxs-lookup"><span data-stu-id="bcc45-141">**Recommended Value**</span></span>
--- | --- | ---
<span data-ttu-id="bcc45-142">Nome</span><span class="sxs-lookup"><span data-stu-id="bcc45-142">Name</span></span> | <span data-ttu-id="bcc45-143">Esse valor exclusivo identifica o aplicativo para o qual você precisa de acesso OAuth.</span><span class="sxs-lookup"><span data-stu-id="bcc45-143">This unique value identifies the application that you require OAuth access for.</span></span> | <span data-ttu-id="bcc45-144">Pesquisa da Microsoft</span><span class="sxs-lookup"><span data-stu-id="bcc45-144">Microsoft Search</span></span>
<span data-ttu-id="bcc45-145">ID do cliente</span><span class="sxs-lookup"><span data-stu-id="bcc45-145">Client ID</span></span> | <span data-ttu-id="bcc45-146">Uma ID exclusiva somente leitura, gerada automaticamente, para o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="bcc45-146">A read-only, auto-generated unique ID for the application.</span></span> <span data-ttu-id="bcc45-147">A instância usa a ID do cliente quando ele solicita um token de acesso.</span><span class="sxs-lookup"><span data-stu-id="bcc45-147">The instance uses the client ID when it requests an access token.</span></span> | <span data-ttu-id="bcc45-148">NA</span><span class="sxs-lookup"><span data-stu-id="bcc45-148">NA</span></span>
<span data-ttu-id="bcc45-149">Segredo do cliente</span><span class="sxs-lookup"><span data-stu-id="bcc45-149">Client secret</span></span> | <span data-ttu-id="bcc45-150">Com essa cadeia de caracteres secreta compartilhada, a instância do ServiceNow e a pesquisa da Microsoft autorizam comunicações entre si.</span><span class="sxs-lookup"><span data-stu-id="bcc45-150">With this shared secret string, the ServiceNow instance and Microsoft Search authorize communications with each other.</span></span> | <span data-ttu-id="bcc45-151">Siga as práticas recomendadas de segurança tratando isso como uma senha.</span><span class="sxs-lookup"><span data-stu-id="bcc45-151">Follow security best-practices by treating this as a password.</span></span>
<span data-ttu-id="bcc45-152">URL de redirecionamento</span><span class="sxs-lookup"><span data-stu-id="bcc45-152">Redirect URL</span></span> | <span data-ttu-id="bcc45-153">Uma URL de retorno de chamada necessária para a qual o servidor de autorização é redirecionado.</span><span class="sxs-lookup"><span data-stu-id="bcc45-153">A required callback URL that the authorization server redirects to.</span></span> | https://gcs.office.com/v1.0/admin/oauth/callback
<span data-ttu-id="bcc45-154">URL do Logotipo</span><span class="sxs-lookup"><span data-stu-id="bcc45-154">Logo URL</span></span> | <span data-ttu-id="bcc45-155">Uma URL que contém a imagem do logotipo do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="bcc45-155">A URL that contains the image for the application logo.</span></span> | <span data-ttu-id="bcc45-156">NA</span><span class="sxs-lookup"><span data-stu-id="bcc45-156">NA</span></span>
<span data-ttu-id="bcc45-157">Ativo</span><span class="sxs-lookup"><span data-stu-id="bcc45-157">Active</span></span> | <span data-ttu-id="bcc45-158">Marque a caixa de seleção para tornar o registro de aplicativo ativo.</span><span class="sxs-lookup"><span data-stu-id="bcc45-158">Select the check box to make the application registry active.</span></span> | <span data-ttu-id="bcc45-159">Definido como ativo</span><span class="sxs-lookup"><span data-stu-id="bcc45-159">Set to active</span></span>
<span data-ttu-id="bcc45-160">Duração do token de atualização</span><span class="sxs-lookup"><span data-stu-id="bcc45-160">Refresh token lifespan</span></span> | <span data-ttu-id="bcc45-161">O número de segundos que um token de atualização é válido.</span><span class="sxs-lookup"><span data-stu-id="bcc45-161">The number of seconds that a refresh token is valid.</span></span> <span data-ttu-id="bcc45-162">Por padrão, os tokens de atualização expiram em 100 dias (8640000 segundos).</span><span class="sxs-lookup"><span data-stu-id="bcc45-162">By default, refresh tokens expire in 100 days (8640000 seconds).</span></span> | <span data-ttu-id="bcc45-163">31.536.000 (1 ano)</span><span class="sxs-lookup"><span data-stu-id="bcc45-163">31,536,000 (1 year)</span></span>
<span data-ttu-id="bcc45-164">Vida útil do token de acesso</span><span class="sxs-lookup"><span data-stu-id="bcc45-164">Access token lifespan</span></span> | <span data-ttu-id="bcc45-165">O número de segundos que um token de acesso é válido.</span><span class="sxs-lookup"><span data-stu-id="bcc45-165">The number of seconds that an access token is valid.</span></span> | <span data-ttu-id="bcc45-166">43.200 (12 horas)</span><span class="sxs-lookup"><span data-stu-id="bcc45-166">43,200 (12 hours)</span></span>

<span data-ttu-id="bcc45-167">Insira a ID do cliente e o segredo do cliente para se conectar à sua instância.</span><span class="sxs-lookup"><span data-stu-id="bcc45-167">Enter the client id and client secret to connect to your instance.</span></span> <span data-ttu-id="bcc45-168">Após a conexão, use uma credencial de conta do ServiceNow para autenticar a permissão de rastreamento.</span><span class="sxs-lookup"><span data-stu-id="bcc45-168">After connecting, use a ServiceNow account credential to authenticate permission to crawl.</span></span> <span data-ttu-id="bcc45-169">A conta deve ter, pelo menos, a função de **conhecimento** .</span><span class="sxs-lookup"><span data-stu-id="bcc45-169">The account should at least have **knowledge** role.</span></span>

#### <a name="azure-ad-openid-connect"></a><span data-ttu-id="bcc45-170">Conexão OpenID do Azure AD</span><span class="sxs-lookup"><span data-stu-id="bcc45-170">Azure AD OpenID Connect</span></span>

<span data-ttu-id="bcc45-171">Para usar o Azure AD OpenID Connect para autenticação, siga as etapas abaixo.</span><span class="sxs-lookup"><span data-stu-id="bcc45-171">To use Azure AD OpenID Connect for authentication, follow the steps below.</span></span>

###### <a name="step-1-register-a-new-application-in-azure-active-directory"></a><span data-ttu-id="bcc45-172">Etapa 1: registrar um novo aplicativo no Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="bcc45-172">Step 1: Register a new application in Azure Active Directory</span></span>

<span data-ttu-id="bcc45-173">Para saber mais sobre como registrar um novo aplicativo no Azure Active Directory, confira [registrar um aplicativo](https://docs.microsoft.com/azure/active-directory/develop/quickstart-register-app#register-an-application).</span><span class="sxs-lookup"><span data-stu-id="bcc45-173">To learn about registering a new application in Azure Active Directory, see [Register an application](https://docs.microsoft.com/azure/active-directory/develop/quickstart-register-app#register-an-application).</span></span> <span data-ttu-id="bcc45-174">Selecione o diretório organizacional de um único locatário.</span><span class="sxs-lookup"><span data-stu-id="bcc45-174">Select single tenant organizational directory.</span></span> <span data-ttu-id="bcc45-175">O URI de redirecionamento não é necessário.</span><span class="sxs-lookup"><span data-stu-id="bcc45-175">Redirect URI is not needed.</span></span> <span data-ttu-id="bcc45-176">Após o registro, anote a ID de aplicativo (cliente) e a ID de diretório (locatário).</span><span class="sxs-lookup"><span data-stu-id="bcc45-176">After registration, note down the Application (client) ID and Directory (tenant) ID.</span></span>

###### <a name="step-2-create-a-client-secret"></a><span data-ttu-id="bcc45-177">Etapa 2: criar um segredo do cliente</span><span class="sxs-lookup"><span data-stu-id="bcc45-177">Step 2: Create a client secret</span></span>

<span data-ttu-id="bcc45-178">Para saber mais sobre como criar um segredo do cliente, consulte [Creating a Client Secret](https://docs.microsoft.com/azure/active-directory/develop/quickstart-register-app#add-a-client-secret).</span><span class="sxs-lookup"><span data-stu-id="bcc45-178">To learn about creating a client secret, see [Creating a client secret](https://docs.microsoft.com/azure/active-directory/develop/quickstart-register-app#add-a-client-secret).</span></span> <span data-ttu-id="bcc45-179">Anote o segredo do cliente.</span><span class="sxs-lookup"><span data-stu-id="bcc45-179">Take a note of client secret.</span></span>

###### <a name="step-3-retrieve-service-principal-object-identifier"></a><span data-ttu-id="bcc45-180">Etapa 3: recuperar o identificador de objeto principal de serviço</span><span class="sxs-lookup"><span data-stu-id="bcc45-180">Step 3: Retrieve Service Principal Object Identifier</span></span>

<span data-ttu-id="bcc45-181">Siga as etapas para recuperar o identificador de objeto principal de serviço</span><span class="sxs-lookup"><span data-stu-id="bcc45-181">Follow the steps to retrieve Service Principal Object Identifier</span></span>

1. <span data-ttu-id="bcc45-182">Executar o PowerShell</span><span class="sxs-lookup"><span data-stu-id="bcc45-182">Run PowerShell</span></span>
2. <span data-ttu-id="bcc45-183">Instale o Azure PowerShell usando o seguinte comando</span><span class="sxs-lookup"><span data-stu-id="bcc45-183">Install Azure PowerShell using the following command</span></span>
```<language>
   Install-Module -Name Az -AllowClobber -Scope CurrentUser
```
3. <span data-ttu-id="bcc45-184">Conectar-se ao Azure</span><span class="sxs-lookup"><span data-stu-id="bcc45-184">Connect to Azure</span></span>
```<language>
    Connect-AzAccount
```
4. <span data-ttu-id="bcc45-185">Obter identificador de objeto da entidade de serviço</span><span class="sxs-lookup"><span data-stu-id="bcc45-185">Get Service Principal Object Identifier</span></span>
```<language>
   Get-AzADServicePrincipal -ApplicationId "Application-ID"
```
<span data-ttu-id="bcc45-186">Substitua "Application-ID" pela ID do aplicativo (cliente) (sem as aspas) do aplicativo registrado na etapa 1.</span><span class="sxs-lookup"><span data-stu-id="bcc45-186">Replace "Application-ID" with Application (client) ID (without quotes) of the application you registered in step 1.</span></span> <span data-ttu-id="bcc45-187">Observe o valor do objeto ID da saída do PowerShell.</span><span class="sxs-lookup"><span data-stu-id="bcc45-187">Note the value of ID object from PowerShell output.</span></span> <span data-ttu-id="bcc45-188">É a ID da entidade de serviço.</span><span class="sxs-lookup"><span data-stu-id="bcc45-188">It is the Service Principal ID.</span></span>

<span data-ttu-id="bcc45-189">Agora você tem todas as informações necessárias do portal do Azure.</span><span class="sxs-lookup"><span data-stu-id="bcc45-189">Now you have all the information required from Azure portal.</span></span> <span data-ttu-id="bcc45-190">Um resumo rápido das informações é fornecido na tabela abaixo.</span><span class="sxs-lookup"><span data-stu-id="bcc45-190">A quick summary of the information is given in the table below.</span></span>

<span data-ttu-id="bcc45-191">**Propriedade**</span><span class="sxs-lookup"><span data-stu-id="bcc45-191">**Property**</span></span> | <span data-ttu-id="bcc45-192">**Descrição**</span><span class="sxs-lookup"><span data-stu-id="bcc45-192">**Description**</span></span>
--- | ---
<span data-ttu-id="bcc45-193">ID de diretório (ID do locatário)</span><span class="sxs-lookup"><span data-stu-id="bcc45-193">Directory ID (Tenant ID)</span></span> | <span data-ttu-id="bcc45-194">Esta é uma ID exclusiva que faz referência ao locatário do Azure Active Directory (da etapa 1).</span><span class="sxs-lookup"><span data-stu-id="bcc45-194">This is a unique ID referring the Azure Active Directory tenant (from step 1).</span></span>
<span data-ttu-id="bcc45-195">ID do aplicativo (ID do cliente)</span><span class="sxs-lookup"><span data-stu-id="bcc45-195">Application ID (Client ID)</span></span> | <span data-ttu-id="bcc45-196">Esta é uma ID exclusiva que faz referência ao aplicativo registrado na etapa 1.</span><span class="sxs-lookup"><span data-stu-id="bcc45-196">This is a unique ID referring the application registered in step 1.</span></span>
<span data-ttu-id="bcc45-197">Segredo de Cliente</span><span class="sxs-lookup"><span data-stu-id="bcc45-197">Client Secret</span></span> | <span data-ttu-id="bcc45-198">Esta é a chave secreta do aplicativo (da etapa 2).</span><span class="sxs-lookup"><span data-stu-id="bcc45-198">This is the secret key of the application (from step 2).</span></span> <span data-ttu-id="bcc45-199">Tratá-lo como uma senha.</span><span class="sxs-lookup"><span data-stu-id="bcc45-199">Treat it like a password.</span></span>
<span data-ttu-id="bcc45-200">ID da entidade de serviço</span><span class="sxs-lookup"><span data-stu-id="bcc45-200">Service Principal ID</span></span> | <span data-ttu-id="bcc45-201">Uma identidade para o aplicativo sendo executado como um serviço.</span><span class="sxs-lookup"><span data-stu-id="bcc45-201">An identity for the application running as a service.</span></span> <span data-ttu-id="bcc45-202">(na etapa 3)</span><span class="sxs-lookup"><span data-stu-id="bcc45-202">(from step 3)</span></span>

###### <a name="step-4-register-servicenow-application"></a><span data-ttu-id="bcc45-203">Etapa 4: registrar o aplicativo do ServiceNow</span><span class="sxs-lookup"><span data-stu-id="bcc45-203">Step 4: Register ServiceNow Application</span></span>

<span data-ttu-id="bcc45-204">A configuração a seguir precisa ser feita na instância do ServiceNow.</span><span class="sxs-lookup"><span data-stu-id="bcc45-204">The following configuration need to be done in the ServiceNow instance.</span></span>

1. <span data-ttu-id="bcc45-205">Registrar uma nova entidade OIDC do OAuth.</span><span class="sxs-lookup"><span data-stu-id="bcc45-205">Register a new OAuth OIDC entity.</span></span> <span data-ttu-id="bcc45-206">Para saber mais, confira [criar um provedor de OIDC OAuth](https://docs.servicenow.com/bundle/orlando-platform-administration/page/administer/security/task/add-OIDC-entity.html).</span><span class="sxs-lookup"><span data-stu-id="bcc45-206">To learn, see [Create an OAuth OIDC provider](https://docs.servicenow.com/bundle/orlando-platform-administration/page/administer/security/task/add-OIDC-entity.html).</span></span>
2. <span data-ttu-id="bcc45-207">A tabela a seguir fornece orientação sobre como preencher o formulário de registro do provedor OIDC</span><span class="sxs-lookup"><span data-stu-id="bcc45-207">The following table provides guidance on how to fill out OIDC provider registration form</span></span>

<span data-ttu-id="bcc45-208">**Field**</span><span class="sxs-lookup"><span data-stu-id="bcc45-208">**Field**</span></span> | <span data-ttu-id="bcc45-209">**Descrição**</span><span class="sxs-lookup"><span data-stu-id="bcc45-209">**Description**</span></span> | <span data-ttu-id="bcc45-210">**Valor recomendado**</span><span class="sxs-lookup"><span data-stu-id="bcc45-210">**Recommended Value**</span></span>
--- | --- | ---
<span data-ttu-id="bcc45-211">Nome</span><span class="sxs-lookup"><span data-stu-id="bcc45-211">Name</span></span> | <span data-ttu-id="bcc45-212">Um nome exclusivo que identifica a entidade OIDC OAuth.</span><span class="sxs-lookup"><span data-stu-id="bcc45-212">A unique name that identifies the OAuth OIDC entity.</span></span> | <span data-ttu-id="bcc45-213">Azure AD</span><span class="sxs-lookup"><span data-stu-id="bcc45-213">Azure AD</span></span>
<span data-ttu-id="bcc45-214">ID do cliente</span><span class="sxs-lookup"><span data-stu-id="bcc45-214">Client ID</span></span> | <span data-ttu-id="bcc45-215">A ID do cliente do aplicativo registrado no servidor OAuth OIDC de terceiros.</span><span class="sxs-lookup"><span data-stu-id="bcc45-215">The client ID of the application registered in the third-party OAuth OIDC server.</span></span> <span data-ttu-id="bcc45-216">A instância usa a ID do cliente ao solicitar um token de acesso.</span><span class="sxs-lookup"><span data-stu-id="bcc45-216">The instance uses the client ID when requesting an access token.</span></span> | <span data-ttu-id="bcc45-217">ID do aplicativo (cliente) da etapa 1</span><span class="sxs-lookup"><span data-stu-id="bcc45-217">Application (Client) ID from step 1</span></span>
<span data-ttu-id="bcc45-218">Segredo de Cliente</span><span class="sxs-lookup"><span data-stu-id="bcc45-218">Client Secret</span></span> | <span data-ttu-id="bcc45-219">O segredo do cliente do aplicativo registrado no servidor OAuth OIDC de terceiros.</span><span class="sxs-lookup"><span data-stu-id="bcc45-219">The client secret of the application registered in the third-party OAuth OIDC server.</span></span> | <span data-ttu-id="bcc45-220">Segredo do cliente da etapa 2</span><span class="sxs-lookup"><span data-stu-id="bcc45-220">Client Secret from step 2</span></span>

<span data-ttu-id="bcc45-221">Todos os outros valores podem ser padrão.</span><span class="sxs-lookup"><span data-stu-id="bcc45-221">All other values can be default.</span></span>

3. <span data-ttu-id="bcc45-222">No formulário de registro do provedor OIDC, você precisa adicionar uma nova configuração de provedor do OIDC.</span><span class="sxs-lookup"><span data-stu-id="bcc45-222">In the OIDC provider registration form, you need to add a new OIDC provider configuration.</span></span> <span data-ttu-id="bcc45-223">Clique no campo Pesquisar ícone no *provedor de OIDC de OAuth* para abrir os registros das configurações do OIDC.</span><span class="sxs-lookup"><span data-stu-id="bcc45-223">Click the search icon against *OAuth OIDC Provider Configuration* field to open the records of OIDC configurations.</span></span> <span data-ttu-id="bcc45-224">Clique em Novo.</span><span class="sxs-lookup"><span data-stu-id="bcc45-224">Click New.</span></span>
4. <span data-ttu-id="bcc45-225">A tabela a seguir fornece orientação sobre como preencher o formulário de configuração do provedor OIDC</span><span class="sxs-lookup"><span data-stu-id="bcc45-225">The following table provides guidance on how to fill out OIDC provider configuration form</span></span>

<span data-ttu-id="bcc45-226">**Campo**</span><span class="sxs-lookup"><span data-stu-id="bcc45-226">**Field**</span></span> | <span data-ttu-id="bcc45-227">**Valor recomendado**</span><span class="sxs-lookup"><span data-stu-id="bcc45-227">**Recommended Value**</span></span>
--- | ---
<span data-ttu-id="bcc45-228">Provedor OIDC</span><span class="sxs-lookup"><span data-stu-id="bcc45-228">OIDC Provider</span></span> |  <span data-ttu-id="bcc45-229">Azure AD</span><span class="sxs-lookup"><span data-stu-id="bcc45-229">Azure AD</span></span>
<span data-ttu-id="bcc45-230">URL de metadados OIDC</span><span class="sxs-lookup"><span data-stu-id="bcc45-230">OIDC Metadata URL</span></span> | <span data-ttu-id="bcc45-231">Ele deve estar no formato https \: //login.microsoftonline.com/"tenandId"/.well-known/OpenID-Configuration</span><span class="sxs-lookup"><span data-stu-id="bcc45-231">This must be in the form https\://login.microsoftonline.com/"tenandId"/.well-known/openid-configuration</span></span> <br/><span data-ttu-id="bcc45-232">Substitua "tenantid" pela ID de diretório (locatário) da etapa 1 (sem aspas).</span><span class="sxs-lookup"><span data-stu-id="bcc45-232">Replace "tenantID" with Directory (tenant) ID from step 1 (without quotes).</span></span>
<span data-ttu-id="bcc45-233">Faixa de vida do cache de configuração OIDC</span><span class="sxs-lookup"><span data-stu-id="bcc45-233">OIDC Configuration Cache Life Span</span></span> |  <span data-ttu-id="bcc45-234">120</span><span class="sxs-lookup"><span data-stu-id="bcc45-234">120</span></span>
<span data-ttu-id="bcc45-235">Aplicativo</span><span class="sxs-lookup"><span data-stu-id="bcc45-235">Application</span></span> | <span data-ttu-id="bcc45-236">Global</span><span class="sxs-lookup"><span data-stu-id="bcc45-236">Global</span></span>
<span data-ttu-id="bcc45-237">Declaração de usuário</span><span class="sxs-lookup"><span data-stu-id="bcc45-237">User Claim</span></span> | <span data-ttu-id="bcc45-238">sub</span><span class="sxs-lookup"><span data-stu-id="bcc45-238">sub</span></span>
<span data-ttu-id="bcc45-239">Campo de usuário</span><span class="sxs-lookup"><span data-stu-id="bcc45-239">User Field</span></span> | <span data-ttu-id="bcc45-240">ID do Usuário</span><span class="sxs-lookup"><span data-stu-id="bcc45-240">User ID</span></span>
<span data-ttu-id="bcc45-241">Habilitar a verificação da declaração JTI</span><span class="sxs-lookup"><span data-stu-id="bcc45-241">Enable JTI claim verification</span></span> | <span data-ttu-id="bcc45-242">Desabilitado</span><span class="sxs-lookup"><span data-stu-id="bcc45-242">Disabled</span></span>

5. <span data-ttu-id="bcc45-243">Clique em enviar e atualizar o formulário de entidade OIDC do OAuth.</span><span class="sxs-lookup"><span data-stu-id="bcc45-243">Click Submit and Update the OAuth OIDC Entity form.</span></span>

###### <a name="step-5-create-a-servicenow-account"></a><span data-ttu-id="bcc45-244">Etapa 5: criar uma conta do ServiceNow</span><span class="sxs-lookup"><span data-stu-id="bcc45-244">Step 5: Create a ServiceNow account</span></span>

<span data-ttu-id="bcc45-245">Consulte as instruções para criar uma conta do ServiceNow, [criar um usuário no ServiceNow](https://docs.servicenow.com/bundle/paris-platform-administration/page/administer/users-and-groups/task/t_CreateAUser.html).</span><span class="sxs-lookup"><span data-stu-id="bcc45-245">Refer the instructions to create a ServiceNow account, [create a user in ServiceNow](https://docs.servicenow.com/bundle/paris-platform-administration/page/administer/users-and-groups/task/t_CreateAUser.html).</span></span>

<span data-ttu-id="bcc45-246">A tabela a seguir fornece orientação sobre como preencher o registro da conta de usuário do ServiceNow</span><span class="sxs-lookup"><span data-stu-id="bcc45-246">The following table provides guidance on how to fill out the ServiceNow user account registration</span></span>

<span data-ttu-id="bcc45-247">**Campo**</span><span class="sxs-lookup"><span data-stu-id="bcc45-247">**Field**</span></span> | <span data-ttu-id="bcc45-248">**Valor recomendado**</span><span class="sxs-lookup"><span data-stu-id="bcc45-248">**Recommended Value**</span></span>
--- | ---
<span data-ttu-id="bcc45-249">ID do Usuário</span><span class="sxs-lookup"><span data-stu-id="bcc45-249">User ID</span></span> | <span data-ttu-id="bcc45-250">ID da entidade de serviço da etapa 3</span><span class="sxs-lookup"><span data-stu-id="bcc45-250">Service Principal ID from step 3</span></span>
<span data-ttu-id="bcc45-251">Somente acesso ao serviço Web</span><span class="sxs-lookup"><span data-stu-id="bcc45-251">Web service access only</span></span> | <span data-ttu-id="bcc45-252">Marcado</span><span class="sxs-lookup"><span data-stu-id="bcc45-252">Checked</span></span>

<span data-ttu-id="bcc45-253">Todos os outros valores podem ser deixados como padrão.</span><span class="sxs-lookup"><span data-stu-id="bcc45-253">All other values can be left to default.</span></span>

###### <a name="step-6-enable-knowledge-role-for-the-servicenow-account"></a><span data-ttu-id="bcc45-254">Etapa 6: habilitar a função de conhecimento para a conta do ServiceNow</span><span class="sxs-lookup"><span data-stu-id="bcc45-254">Step 6: Enable Knowledge role for the ServiceNow account</span></span>

<span data-ttu-id="bcc45-255">Acessar a conta do ServiceNow que você criou com o ID principal do ServiceNow como ID de usuário e atribuir a função de conhecimento.</span><span class="sxs-lookup"><span data-stu-id="bcc45-255">Access the ServiceNow account you created with ServiceNow Principal ID as User ID and assign the knowledge role.</span></span> <span data-ttu-id="bcc45-256">As instruções para atribuir uma função a uma conta do ServiceNow podem ser encontradas aqui, [atribuir uma função a um usuário](https://docs.servicenow.com/bundle/paris-platform-administration/page/administer/users-and-groups/task/t_AssignARoleToAUser.html).</span><span class="sxs-lookup"><span data-stu-id="bcc45-256">Instructions to assigning a role to a ServiceNow account can be found here, [assign a role to a user](https://docs.servicenow.com/bundle/paris-platform-administration/page/administer/users-and-groups/task/t_AssignARoleToAUser.html).</span></span>

<span data-ttu-id="bcc45-257">Use a ID do aplicativo como ID do cliente (da etapa 1) e o segredo do cliente (da etapa 2) no assistente de configuração do centro de administração para autenticar sua instância do ServiceNow usando o Azure AD OpenID Connect.</span><span class="sxs-lookup"><span data-stu-id="bcc45-257">Use Application ID as Client ID (from step 1), and Client secret (from step 2) in admin center configuration wizard to authenticate to your ServiceNow instance using Azure AD OpenID Connect.</span></span>

## <a name="filter-data"></a><span data-ttu-id="bcc45-258">Filtrar dados</span><span class="sxs-lookup"><span data-stu-id="bcc45-258">Filter data</span></span>

<span data-ttu-id="bcc45-259">Com uma cadeia de caracteres de consulta do ServiceNow, você pode especificar condições para sincronizar artigos.</span><span class="sxs-lookup"><span data-stu-id="bcc45-259">With a ServiceNow query string, you can specify conditions for syncing articles.</span></span> <span data-ttu-id="bcc45-260">É como uma cláusula **Where** em uma instrução **SQL SELECT** .</span><span class="sxs-lookup"><span data-stu-id="bcc45-260">It's like a **Where** clause in a **SQL Select** statement.</span></span> <span data-ttu-id="bcc45-261">Por exemplo, você pode optar por indexar apenas artigos publicados e ativos.</span><span class="sxs-lookup"><span data-stu-id="bcc45-261">For example, you can choose to index only articles that are published and active.</span></span> <span data-ttu-id="bcc45-262">Para saber mais sobre como criar sua própria cadeia de caracteres de consulta, confira [gerar uma cadeia de caracteres de consulta codificada usando um filtro](https://docs.servicenow.com/bundle/paris-platform-user-interface/page/use/using-lists/task/t_GenEncodQueryStringFilter.html).</span><span class="sxs-lookup"><span data-stu-id="bcc45-262">To learn about creating your own query string, see [Generate an encoded query string using a filter](https://docs.servicenow.com/bundle/paris-platform-user-interface/page/use/using-lists/task/t_GenEncodQueryStringFilter.html).</span></span>

## <a name="manage-search-permissions"></a><span data-ttu-id="bcc45-263">Gerenciar permissões de pesquisa</span><span class="sxs-lookup"><span data-stu-id="bcc45-263">Manage search permissions</span></span>

<span data-ttu-id="bcc45-264">O conector do ServiceNow oferece suporte a permissões de pesquisa visíveis para **todos** ou **apenas pessoas com acesso a essa fonte de dados**.</span><span class="sxs-lookup"><span data-stu-id="bcc45-264">The ServiceNow connector supports search permissions visible to **Everyone** or **Only people with access to this data source**.</span></span> <span data-ttu-id="bcc45-265">Dados indexados aparecem nos resultados da pesquisa e são visíveis para todos os usuários da organização ou usuários que tenham acesso a eles, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="bcc45-265">Indexed data appears in the search results and is visible to all users in the organization or users who have access to them respectively.</span></span> <span data-ttu-id="bcc45-266">O conector do ServiceNow oferece suporte a permissões de critérios de usuário padrão sem scripts avançados.</span><span class="sxs-lookup"><span data-stu-id="bcc45-266">ServiceNow Connector supports default user criteria permissions without advanced scripts.</span></span> <span data-ttu-id="bcc45-267">Quando o conector encontra um critério de usuário com script avançado, todos os dados que usam esses critérios de usuário não serão mostrados nos resultados da pesquisa.</span><span class="sxs-lookup"><span data-stu-id="bcc45-267">When the connector encounters a user criteria with advanced script, all data using that user criteria will not be showed in search results.</span></span>

<span data-ttu-id="bcc45-268">Se você escolher **apenas as pessoas com acesso a essa fonte de dados**, será necessário escolher se sua instância do ServiceNow tem usuários provisionados do Azure Active Directory (AAD) ou usuários não-AAD.</span><span class="sxs-lookup"><span data-stu-id="bcc45-268">If you choose **Only people with access to this data source**, you need to further choose whether your ServiceNow instance has Azure Active Directory (AAD) provisioned users or Non-AAD users.</span></span>

>[!NOTE]
><span data-ttu-id="bcc45-269">O conector do ServiceNow está em versão **prévia** se você escolher **apenas pessoas com acesso a essa fonte de dados**.</span><span class="sxs-lookup"><span data-stu-id="bcc45-269">The ServiceNow connector is in **preview** if you choose **Only people with access to this data source**.</span></span>

>[!NOTE]
><span data-ttu-id="bcc45-270">Se você escolher AAD como o tipo de fonte de identidade, certifique-se de atribuir a propriedade de fonte de UPN à propriedade de destino de email no ServiceNow.</span><span class="sxs-lookup"><span data-stu-id="bcc45-270">If you choose AAD as the type of identity source, make sure you are assigning UPN source property to email targeted property in ServiceNow.</span></span> <span data-ttu-id="bcc45-271">Para verificar ou alterar seus mapeamentos, confira [Personalizando o atributo de provisionamento do usuário-mapeamentos para aplicativos SaaS no Azure Active Directory](https://docs.microsoft.com/azure/active-directory/app-provisioning/customize-application-attributes).</span><span class="sxs-lookup"><span data-stu-id="bcc45-271">To verify or change your mappings, see [Customizing user provisioning attribute-mappings for SaaS applications in Azure Active Directory](https://docs.microsoft.com/azure/active-directory/app-provisioning/customize-application-attributes).</span></span>

<span data-ttu-id="bcc45-272">Se você optar por incluir uma ACL de sua instância do ServiceNow e selecionar "não AAD" para o tipo de identidade, confira [mapear suas identidades não do Azure ad](map-non-aad.md) para obter instruções sobre como mapear as identidades.</span><span class="sxs-lookup"><span data-stu-id="bcc45-272">If you chose to ingest an ACL from your ServiceNow instance and selected "non-AAD" for the identity type see [Map your non-Azure AD Identities](map-non-aad.md) for instructions on mapping the identities.</span></span>

## <a name="assign-property-labels"></a><span data-ttu-id="bcc45-273">Atribuir rótulos de propriedade</span><span class="sxs-lookup"><span data-stu-id="bcc45-273">Assign property labels</span></span>

<span data-ttu-id="bcc45-274">Você pode atribuir uma propriedade Source a cada rótulo escolhendo a partir de um menu de opções.</span><span class="sxs-lookup"><span data-stu-id="bcc45-274">You can assign a source property to each label by choosing from a menu of options.</span></span> <span data-ttu-id="bcc45-275">Embora esta etapa não seja obrigatória, ter alguns rótulos de propriedade melhorará a relevância da pesquisa e garantirá resultados de pesquisa mais precisos para os usuários finais.</span><span class="sxs-lookup"><span data-stu-id="bcc45-275">While this step is not mandatory, having some property labels will improve the search relevance and ensure more accurate search results for end users.</span></span>

## <a name="manage-schema"></a><span data-ttu-id="bcc45-276">Gerenciar esquema</span><span class="sxs-lookup"><span data-stu-id="bcc45-276">Manage schema</span></span>

<span data-ttu-id="bcc45-277">Na tela **gerenciar esquema** , você tem a opção de alterar os atributos de esquema (**consultável**, **pesquisável**, **recuperável** e **refinável**) associados às propriedades, adicionar aliases opcionais e escolher a propriedade **Content** .</span><span class="sxs-lookup"><span data-stu-id="bcc45-277">On the **Manage Schema** screen, you have the option to change the schema attributes (**queryable**, **searchable**, **retrievable**, and **refinable**) associated with the properties, add optional aliases, and choose the **Content** property.</span></span>

## <a name="set-the-refresh-schedule"></a><span data-ttu-id="bcc45-278">Definir o agendamento de atualização</span><span class="sxs-lookup"><span data-stu-id="bcc45-278">Set the refresh schedule</span></span>

<span data-ttu-id="bcc45-279">O conector do ServiceNow suporta agendas de atualização para rastreamentos completos e incrementais.</span><span class="sxs-lookup"><span data-stu-id="bcc45-279">The ServiceNow connector supports refresh schedules for both full and incremental crawls.</span></span> <span data-ttu-id="bcc45-280">Recomendamos que você defina ambas.</span><span class="sxs-lookup"><span data-stu-id="bcc45-280">We recommend that you set both.</span></span>

<span data-ttu-id="bcc45-281">Um cronograma de rastreamento completo localiza artigos excluídos que foram previamente sincronizados com o índice de pesquisa da Microsoft e quaisquer artigos que tenham sido movidos do filtro de sincronização.</span><span class="sxs-lookup"><span data-stu-id="bcc45-281">A full crawl schedule finds deleted articles that were previously synced to the Microsoft Search index and any articles that moved out of the sync filter.</span></span> <span data-ttu-id="bcc45-282">Quando você se conecta pela primeira vez ao ServiceNow, um rastreamento completo é executado para sincronizar todos os artigos da base de conhecimento.</span><span class="sxs-lookup"><span data-stu-id="bcc45-282">When you first connect to ServiceNow, a full crawl runs to sync all the knowledge-base articles.</span></span> <span data-ttu-id="bcc45-283">Para sincronizar novos itens e fazer atualizações, você precisa agendar rastreamentos incrementais.</span><span class="sxs-lookup"><span data-stu-id="bcc45-283">To sync new items and make updates, you need to schedule incremental crawls.</span></span>

<span data-ttu-id="bcc45-284">O padrão recomendado é um dia para um rastreamento completo e quatro horas para um rastreamento incremental.</span><span class="sxs-lookup"><span data-stu-id="bcc45-284">The recommended default is one day for a full crawl and four hours for an incremental crawl.</span></span>
>[!NOTE]
><span data-ttu-id="bcc45-285">Para identidades, somente rastreamento completo agendado será aplicado.</span><span class="sxs-lookup"><span data-stu-id="bcc45-285">For identities, only full crawl scheduled will be applied.</span></span>

## <a name="review-and-publish"></a><span data-ttu-id="bcc45-286">Revisar e publicar</span><span class="sxs-lookup"><span data-stu-id="bcc45-286">Review and publish</span></span>

<span data-ttu-id="bcc45-287">Depois de configurar seu conector, você pode revisar e publicar a conexão.</span><span class="sxs-lookup"><span data-stu-id="bcc45-287">After you configure your connector, you can review and publish the connection.</span></span>

## <a name="next-steps"></a><span data-ttu-id="bcc45-288">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="bcc45-288">Next steps</span></span>

<span data-ttu-id="bcc45-289">Após publicar a conexão, você precisa personalizar a página de resultados da pesquisa.</span><span class="sxs-lookup"><span data-stu-id="bcc45-289">After publishing the connection, you need to customize the search results page.</span></span> <span data-ttu-id="bcc45-290">Para saber mais sobre como personalizar os resultados da pesquisa, confira [Personalizar a página de resultados da pesquisa](https://docs.microsoft.com/microsoftsearch/configure-connector#next-steps-customize-the-search-results-page).</span><span class="sxs-lookup"><span data-stu-id="bcc45-290">To learn about customizing search results, see [Customize the search results page](https://docs.microsoft.com/microsoftsearch/configure-connector#next-steps-customize-the-search-results-page).</span></span>